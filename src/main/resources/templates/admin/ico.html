<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
        <title>Annex - Responsive Bootstrap 4 Admin Dashboard</title>
        <meta content="Admin Dashboard" name="description" />
        <meta content="Mannatthemes" name="author" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <link rel="shortcut icon" th:href="@{/assets/images/favicon.ico}">

        <link th:href="@{/assets/css/pagination.css}" rel="stylesheet" type="text/css">
        <link th:href="@{/assets/css/bootstrap.min.css}" rel="stylesheet" type="text/css">
        <link th:href="@{/assets/css/icons.css}" rel="stylesheet" type="text/css">
        <link th:href="@{/assets/css/style.css}" rel="stylesheet" type="text/css">
		<link th:href="@{/assets/css/hcl.css}" rel="stylesheet" type="text/css">
        <link th:href="@{/assets/css/jquery.pagination.css}" rel="stylesheet" type="text/css">
    </head>

    <body class="fixed-left">

        <!-- Loader -->
        <div id="preloader"><div id="status"><div class="spinner"></div></div></div>

        <!-- Begin page -->
        <div id="wrapper">

            <!-- ========== Left Sidebar Start ========== -->
            <div class="left side-menu">
                <button type="button" class="button-menu-mobile button-menu-mobile-topbar open-left waves-effect">
                    <i class="ion-close"></i>
                </button>

                <!-- LOGO -->
                <div class="topbar-left">
                    <div class="text-center">
                        <a href="index.html" class="logo"><i class="mdi mdi-assistant"></i> Annex</a>
                        <!-- <a href="index.html" class="logo"><img src="assets/images/logo.png" height="24" alt="logo"></a> -->
                    </div>
                </div>

                <div class="sidebar-inner slimscrollleft">

                    <div id="sidebar-menu">
                        <ul>

                            <li>
                                <a th:href="@{/dashboard}" class="waves-effect"><i class="mdi mdi-airplay"></i><span> Dashboard</span></a>
                            </li>
							<li class="nav-active">
                                <a th:href="@{/article}" class="waves-effect"><i class="mdi mdi-biohazard"></i><span> Article list </span></a>
                            </li>  
							<li>
                                <a th:href="@{/write}" class="waves-effect"><i class="mdi mdi-chart-areaspline"></i><span> write + </span></a>
                            </li>
                            <li>
                                <a href="setting.html" class="waves-effect"><i class="mdi mdi-settings"></i><span> Settings </span></a>
                            </li>                            
                            <li>
                                <a th:href="@{/}" class="waves-effect"><i class="mdi mdi-power"></i><span> Logout </span></a>
                            </li>
                            
                        </ul>
                    </div>
                    <div class="clearfix"></div>
                </div> <!-- end sidebarinner -->
            </div>
            <!-- Left Sidebar End -->

            <!-- Start right Content here -->

            <div class="content-page">
                <!-- Start content -->
                <div class="content">

                    <!-- Top Bar Start -->
                    <div class="topbar">

                        <nav class="navbar-custom">

                            <ul class="list-inline float-right mb-0">
                                <!-- language-->
                                <li class="list-inline-item dropdown notification-list hide-phone">
                                    <a class="nav-link dropdown-toggle arrow-none waves-effect text-white" data-toggle="dropdown" href="#" role="button"
                                        aria-haspopup="false" aria-expanded="false">
                                        English <img src="assets/images/flags/us_flag.jpg" class="ml-2" height="16" alt=""/>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right language-switch">
                                        <a class="dropdown-item" href="#"><img src="assets/images/flags/italy_flag.jpg" alt="" height="16"/><span> Italian </span></a>
                                        <a class="dropdown-item" href="#"><img src="assets/images/flags/french_flag.jpg" alt="" height="16"/><span> French </span></a>
                                        <a class="dropdown-item" href="#"><img src="assets/images/flags/spain_flag.jpg" alt="" height="16"/><span> Spanish </span></a>
                                        <a class="dropdown-item" href="#"><img src="assets/images/flags/russia_flag.jpg" alt="" height="16"/><span> Russian </span></a>
                                    </div>
                                </li>
                                <li class="list-inline-item dropdown notification-list">
                                    <a class="nav-link dropdown-toggle arrow-none waves-effect" data-toggle="dropdown" href="#" role="button"
                                       aria-haspopup="false" aria-expanded="false">
                                        <i class="ti-email noti-icon"></i>
                                        <span class="badge badge-danger noti-icon-badge">5</span>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right dropdown-arrow dropdown-menu-lg">
                                        <!-- item-->
                                        <div class="dropdown-item noti-title">
                                            <h5><span class="badge badge-danger float-right">745</span>Messages</h5>
                                        </div>

                                        <!-- item-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            <div class="notify-icon"><img src="assets/images/users/avatar-2.jpg" alt="user-img" class="img-fluid rounded-circle" /> </div>
                                            <p class="notify-details"><b>Charles M. Jones</b><small class="text-muted">Dummy text of the printing and typesetting industry.</small></p>
                                        </a>

                                        <!-- item-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            <div class="notify-icon"><img src="assets/images/users/avatar-3.jpg" alt="user-img" class="img-fluid rounded-circle" /> </div>
                                            <p class="notify-details"><b>Thomas J. Mimms</b><small class="text-muted">You have 87 unread messages</small></p>
                                        </a>

                                        <!-- item-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            <div class="notify-icon"><img src="assets/images/users/avatar-4.jpg" alt="user-img" class="img-fluid rounded-circle" /> </div>
                                            <p class="notify-details"><b>Luis M. Konrad</b><small class="text-muted">It is a long established fact that a reader will</small></p>
                                        </a>

                                        <!-- All-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            View All
                                        </a>

                                    </div>
                                </li>

                                <li class="list-inline-item dropdown notification-list">
                                    <a class="nav-link dropdown-toggle arrow-none waves-effect" data-toggle="dropdown" href="#" role="button"
                                       aria-haspopup="false" aria-expanded="false">
                                        <i class="ti-bell noti-icon"></i>
                                        <span class="badge badge-success noti-icon-badge">23</span>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right dropdown-arrow dropdown-menu-lg">
                                        <!-- item-->
                                        <div class="dropdown-item noti-title">
                                            <h5><span class="badge badge-danger float-right">87</span>Notification</h5>
                                        </div>

                                        <!-- item-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            <div class="notify-icon bg-primary"><i class="mdi mdi-cart-outline"></i></div>
                                            <p class="notify-details"><b>Your order is placed</b><small class="text-muted">Dummy text of the printing and typesetting industry.</small></p>
                                        </a>

                                        <!-- item-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            <div class="notify-icon bg-success"><i class="mdi mdi-message"></i></div>
                                            <p class="notify-details"><b>New Message received</b><small class="text-muted">You have 87 unread messages</small></p>
                                        </a>

                                        <!-- item-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            <div class="notify-icon bg-warning"><i class="mdi mdi-martini"></i></div>
                                            <p class="notify-details"><b>Your item is shipped</b><small class="text-muted">It is a long established fact that a reader will</small></p>
                                        </a>

                                        <!-- All-->
                                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                                            View All
                                        </a>

                                    </div>
                                </li>

                                <li class="list-inline-item dropdown notification-list">
                                    <a class="nav-link dropdown-toggle arrow-none waves-effect nav-user" data-toggle="dropdown" href="#" role="button"
                                       aria-haspopup="false" aria-expanded="false">
                                        <img src="assets/images/users/avatar-1.jpg" alt="user" class="rounded-circle">
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right profile-dropdown ">
                                        <!-- item-->
                                        <div class="dropdown-item noti-title">
                                            <h5>Welcome</h5>
                                        </div>
                                        <a class="dropdown-item" href="#"><i class="mdi mdi-account-circle m-r-5 text-muted"></i> Profile</a>
                                        <a class="dropdown-item" href="#"><i class="mdi mdi-wallet m-r-5 text-muted"></i> My Wallet</a>
                                        <a class="dropdown-item" href="#"><span class="badge badge-success float-right">5</span><i class="mdi mdi-settings m-r-5 text-muted"></i> Settings</a>
                                        <a class="dropdown-item" href="#"><i class="mdi mdi-lock-open-outline m-r-5 text-muted"></i> Lock screen</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#"><i class="mdi mdi-logout m-r-5 text-muted"></i> Logout</a>
                                    </div>
                                </li>

                            </ul>

                            <ul class="list-inline menu-left mb-0">
                                <li class="float-left">
                                    <button class="button-menu-mobile open-left waves-light waves-effect">
                                        <i class="mdi mdi-menu"></i>
                                    </button>
                                </li>
                                <li class="hide-phone app-search">
                                    <form role="search" class="">
                                        <input type="text" placeholder="Search..." class="form-control">
                                        <a href=""><i class="fa fa-search"></i></a>
                                    </form>
                                </li>
                            </ul>

                            <div class="clearfix"></div>

                        </nav>

                    </div>
                    <!-- Top Bar End -->

                    <div class="page-content-wrapper ">

                        <div class="container-fluid">

                            <div class="row">
                                    <div class="col-sm-12">
                                        <div class="page-title-box">
                                            <div class="btn-group float-right">
                                                <ol class="breadcrumb hide-phone p-0 m-0">
                                                    <li class="breadcrumb-item"><a href="#">Annex</a></li>
                                                    <li class="breadcrumb-item active">Landing</li>
                                                </ol>
                                            </div>
                                            <h4 class="page-title">Article Management</h4>
                                        </div>
                                    </div>
                                </div>
                                <!-- end page title end breadcrumb -->
                                <div class="row">
                                    <div class="col-md-12 col-xl-12">
                                        <div class="card m-b-30">   

											<div class="card-body">                                         
												<form class="form-horizontal" name="form1" role="form" th:action="@{search}">
													<div class="form-group mb-0 row">
														<div class="col-md-12">
															<div class="input-group mt-3" style="width: 50%;">
																<input type="text" id="keyword" name="keyword" th:value="${keyword}" class="form-control" placeholder="请输入关键字" aria-label="123" aria-describedby="basic-addon1">
																<div class="input-group-append">
																	<a href="javascript:document.form1.submit();" class="btn btn-success btn-block">
																		<img th:src="@{/assets/images/coins/magnifier.png}" height="30" width="30" alt="" class="rounded-curcle">
																	</a>
																</div>
															</div>                                                        
														</div>
													</div> <!--end row-->           
												</form>     
											</div>
										
                                            <div class="card-body new-user">
                                                <h5 class="header-title mb-4 mt-0">Article List</h5>
                                                <div class="table-responsive">
                                                    <table class="table table-hover mb-0">
                                                        <thead>
                                                            <tr>
                                                                <th class="border-top-0">首页图片</th>
                                                                <th class="border-top-0">标题</th>
                                                                <th class="border-top-0">状态</th>
                                                                <th class="border-top-0">分类</th>                                    
                                                                <th class="border-top-0">评论</th>
                                                                <th class="border-top-0">访问</th>
                                                                <th class="border-top-0">发布时间</th>
																<th class="border-top-0">操作</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr th:each="map:${pageInfo.list}">
                                                                <td>
                                                                    <img th:src="${map.article.firstPic}" onerror="this.src=`https://dhjdd.cn/upload/404.gif`" alt="" style="width:30px">
                                                                </td>
																<td>
                                                                    <!-- 【th:utext】可以显示未经过转义的文本 | 【th:text】会转义特殊字符串，造成的结果是文本值原样输出。 -->
																	<div class="hcl_content"> 
																		<a href="javascript:void(0);" th:utext="${map.article.title}">Nginx代理阿里云OSS免流</a>
																	</div>
                                                                </td>
                                                                
                                                                <td>
																	<li style="color:green;" th:if="${map.article.status==1}"><span style="color:#696969;">已发布</span></li>
                                                                    <li style="color:orange;" th:if="${map.article.status==0}"><span style="color:#696969;">草稿</span></li>
																</td>
                                                                <td>
																	<div style="width: 180px;">
																		<div class="category_backgroud" th:each="cates:${map.categories}">
                                                                            &nbsp;&nbsp; <font th:text="${cates.categoryName}">Java</font> &nbsp;&nbsp;
																		</div>
																	</div>
																</td>                                   
                                                                <td>
																	<div class="text_backgroud">
                                                                        &nbsp;&nbsp;
                                                                        <span th:text="${map.dashBoardStatistic.comments}">321</span>
                                                                        &nbsp;&nbsp;
																	</div>
																</td>
                                                                <td>
                                                                    <div class="comment_backgroud">
																		&nbsp;&nbsp;
                                                                        <span th:text="${map.dashBoardStatistic.readingVolume}">321</span>
                                                                        &nbsp;&nbsp;
																	</div>
                                                                </td>
                                                                <td th:text="${map.article.formattedDate}">
                                                                    2023-06-14 21:53:15
                                                                </td>
																<td>
																	<a th:href="@{'article/beforeUpdateArticle?id=' + ${map.article.id}}">编辑</a>
																	<a th:href="@{'article/deleteArticle?id=' + ${map.article.id}}">删除</a>
																</td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            <!--<p>当前 <span th:text="${pageInfo.pageNum}"></span> 页,总 <span
                                    th:text="${pageInfo.pages}"></span> 页,共 <span
                                    th:text="${pageInfo.total}"></span> 条记录
                            </p>-->
                            <!--分页导航-->
                            <div class="box hcl_pages">
                                <div id="pagination" class="page fl"></div>
                            </div>

                        </div><!-- container -->

                    </div> <!-- Page content Wrapper -->

                </div> <!-- content -->

                <footer class="footer">
                    © 本博客由chenluh本人开发
                </footer>

            </div>
            <!-- End Right content here -->

        </div>
        <!-- END wrapper -->


        <!-- jQuery  -->
        <script th:src="@{/assets/js/jquery.min.js}"></script>
        <script th:src="@{/assets/js/popper.min.js}"></script>
        <script th:src="@{/assets/js/bootstrap.min.js}"></script>
        <script th:src="@{/assets/js/modernizr.min.js}"></script>
        <script th:src="@{/assets/js/detect.js}"></script>
        <script th:src="@{/assets/js/fastclick.js}"></script>
        <script th:src="@{/assets/js/jquery.slimscroll.js}"></script>
        <script th:src="@{/assets/js/jquery.blockUI.js}"></script>
        <script th:src="@{/assets/js/waves.js}"></script>
        <script th:src="@{/assets/js/jquery.nicescroll.js}"></script>
        <script th:src="@{/assets/js/jquery.scrollTo.min.js}"></script>

        <script th:src="@{/assets/plugins/metro/metro.js}"></script>
        <!-- App js -->
        <script th:src="@{/assets/js/app.js}"></script>
        <!-- pagination js -->
        <script th:src="@{/assets/js/jquery.pagination.min.js}"></script>

        <script>
            $(document).ready(function () {
                /** 分页 */
                var pageNum = [[${pageInfo.pageNum}]];
                var pages = [[${pageInfo.pages}]];
                var pageSize = [[${pageInfo.pageSize}]];
                $("#pagination").pagination({
                    currentPage: pageNum,
                    totalPage: pages,
                    prevPageText: "< 上一页",
                    nextPageText: "下一页 >",
                    homePageText: "首页",
                    endPageText: "尾页",
                    count: 5,
                    isShow: true,
                    callback: function (current) {
                        location.href = "article?pageNum="+current;
                    }
                });

            });

        </script>

    </body>
</html>